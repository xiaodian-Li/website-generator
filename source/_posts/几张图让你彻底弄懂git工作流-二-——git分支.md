---
title: å‡ å¼ å›¾è®©ä½ å½»åº•å¼„æ‡‚gitå·¥ä½œæµ(äºŒ) â€”â€”gitåˆ†æ”¯
date: 2018-05-28 11:40:42
tags: [git]
---
ä¸Šç¯‡æ–‡ç« å·²ç»è¯´äº†Gitç®€å²ä»¥åŠGitåŸºç¡€ï¼Œé‚£ä¹ˆè¿™ç¯‡æ–‡ç« ç®€å•æ€»ç»“ä¸‹Gitåˆ†æ”¯
# Gitåˆ†æ”¯
ä¸ºäº†ç†è§£ Git åˆ†æ”¯çš„å®ç°æ–¹å¼,æˆ‘ä»¬éœ€è¦å›é¡¾ä¸€ä¸‹,
Gitä¿å­˜çš„ä¸æ˜¯æ–‡ä»¶å·®å¼‚æˆ–è€…å˜åŒ–é‡ï¼Œè€Œåªæ˜¯ä¸€ç³»åˆ—æ–‡ä»¶å¿«ç…§. <br><!--more-->

* Gitåˆ†æ”¯  

åˆ†æ”¯å…¶å®å°±æ˜¯ä»æŸä¸ªæäº¤å¯¹è±¡å¾€å›çœ‹çš„å†å² | æ–‡å­—æè¿°
---|---
![](http://images.daojia.com/assets/other/images/gitimg/git4.png) | Gitä¸­çš„åˆ†æ”¯ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸ªæŒ‡å‘masterå¯¹è±¡çš„å¯å˜æŒ‡é’ˆï¼Œmasterä¸ºé»˜è®¤åˆ†æ”¯ï¼Œæ¯æ¬¡æäº¤éƒ½ä¼šå‘å‰ç§»åŠ¨


å¤šä¸ªåˆ†æ”¯æŒ‡å‘æäº¤æ•°æ®çš„å†å² | æ–‡å­—æè¿°
---|---
![](http://images.daojia.com/assets/other/images/gitimg/git5.png) | Gitåˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯æŒ‡é’ˆä»è€Œåˆ›å»ºåˆ†æ”¯ï¼Œåˆ›å»ºtestingå‘½ä»¤git branch testing


HEAD æŒ‡å‘å½“å‰æ‰€åœ¨çš„åˆ†æ”¯ | æ–‡å­—æè¿°
---|---
![](http://images.daojia.com/assets/other/images/gitimg/git6.png) | Gitå› ä¸ºä¿å­˜ä¸€ä¸ªåä¸ºHEADçš„æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘æ­£åœ¨å·¥ä½œä¸­æœ¬åœ°åˆ†æ”¯æŒ‡é’ˆ<br>git branchä»…æ˜¯åˆ›å»ºæ–°åˆ†æ”¯ï¼Œä½†ä¸ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ†æ”¯ä¸­å»ï¼ˆå¦‚å›¾è¿˜åœ¨masterä¸Šï¼‰


HEAD åœ¨ä½ è½¬æ¢åˆ†æ”¯æ—¶æŒ‡å‘æ–°çš„åˆ†æ”¯ | æ–‡å­—æè¿°
---|---
![](http://images.daojia.com/assets/other/images/gitimg/git7.png) | è¿è¡Œgit checkout testingHEADå°±æŒ‡å‘testingåˆ†æ”¯äº†

æ¯æ¬¡æäº¤å HEAD éšç€åˆ†æ”¯ä¸€èµ·å‘å‰ç§»åŠ¨ | æ–‡å­—æè¿°
---|---
![](http://images.daojia.com/assets/other/images/gitimg/git8.png) | å·¦å›¾æ˜¯åˆæäº¤ä¸€æ¬¡çš„ç»“æœï¼Œæ¯æ¬¡æäº¤åHEADéšç€åˆ†æ”¯ä¸€èµ·å‘å‰ç§»åŠ¨<br>ä½†masterä»æŒ‡å‘åŸæ¥git checkoutæ—¶æ‰€åœ¨çš„commitå¯¹è±¡ã€‚å†æ¬¡æ‰§è¡Œgit checkout masterHEADæ‰ä¼šæŒ‡å‘master
<br>

* Gitâ€”merge

åˆ†æ”¯çš„åˆå¹¶ â€” merge #1 | æ–‡å­—æè¿°
---|---
![](http://images.daojia.com/assets/other/images/gitimg/git10.png)  | **1. #53æ˜¯ç¬¬ä¸€æ»´ä¿®è¡¥é—®é¢˜çš„åˆ†æ”¯**<br>git chackout -b iss53 === git branch iss53+git checkout iss53<br>**2.å‡å¦‚æ¥åˆ°ç´§æ€¥ä»»åŠ¡**ï¼Œè¿™æ—¶å€™å°±ä¸å¿…èŠ±è´¹å¤§åŠ›æ°”æ¥å¤åŸè¿™äº›ä¿®æ”¹ï¼Œæ‰§è¡Œgit checkout masteråˆ›å»ºç´§æ€¥ä¿®è¡¥åˆ†æ”¯git checkout -b hotfix<br>**3.hotfixåˆ†æ”¯**æ˜¯ä»masteråˆ†æ”¯æ‰€åœ¨ç‚¹åˆ†åŒ–å‡ºæ¥çš„
![](http://images.daojia.com/assets/other/images/gitimg/git11.png) | **1.æµ‹è¯•æˆåŠŸå**å›åˆ°masteræŠŠå®ƒåˆå¹¶èµ·æ¥ï¼Œç„¶åå‘å¸ƒæœåŠ¡å™¨ï¼Œå‘½ä»¤ä¸ºgit checkout master git merge hotfix åˆå¹¶ä¼šå‡ºç°â€œFast forwardâ€çš„æç¤º<br>**2.å› ä¸º**æ˜¯masterå¹¶å…¥hotfixçš„ç›´æ¥ä¸Šæ¸¸ï¼Œåªéœ€masteræŒ‡é’ˆå³ç§»åŠ¨ï¼ˆé¡ºç€èµ°ï¼‰ç§°ä¸ºå¿«è¿›<br>**3.åˆå¹¶ä¹‹å**ï¼Œmaster åˆ†æ”¯å’Œ hotfix åˆ†æ”¯æŒ‡å‘åŒä¸€ä½ç½®


åˆ†æ”¯çš„åˆå¹¶ â€” merge #2 | æ–‡å­—æè¿°
---|---
![](http://images.daojia.com/assets/other/images/gitimg/git12.png) | 1.ç°åœ¨å›æ¥å¤„ç†iss53ï¼Œå®Œæˆååˆå¹¶å›master,ä¸åŒäºhotfix,å¼€å‘å†å²ä»æ—©çš„åœ°æ–¹å¼€å§‹åˆ†å‰çš„<br>2.master->c4ï¼Œgité¢å¤–å¤„ç†ä¸ºæ‰¾åˆ°å…±åŒç¥–å…ˆC2ç®€å•ä¸‰æ–¹åˆå¹¶
![](http://images.daojia.com/assets/other/images/gitimg/git13.png) | ä¸‰æ–¹åˆå¹¶åçš„ç»“æœé‡æ–°å¿«ç…§ï¼Œå¹¶è‡ªåŠ¨åˆ›å»ºæŒ‡å‘å®ƒçš„æäº¤å¯¹è±¡C6,å¯ä»¥çœ‹åˆ°C6æœ‰ä¸¤ä¸ªç¥–å…ˆ<br>  (gitè‡ªåŠ¨åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«äº†åˆå¹¶ç»“æœçš„æäº¤å¯¹è±¡ï¼Œè‡ªå·±è£å†³å“ªä¸ªå…±åŒç¥–å…ˆæ‰æ˜¯æœ€ä½³åˆå¹¶åŸºç¡€ï¼Œè¿™å’Œ CVSåŠSubversionï¼ˆ1.5 ä»¥åçš„ç‰ˆæœ¬ä¸åŒ)
<br>

* Gitâ€”rebase

åˆ†æ”¯çš„åˆå¹¶ â€” rebase #1 | æ–‡å­—æè¿°
---|---
![](http://images.daojia.com/assets/other/images/gitimg/git14.png) | æŠŠä¸€ä¸ªåˆ†æ”¯ä¸­çš„ä¿®æ”¹æ•´åˆåˆ°å¦ä¸€ä¸ªåˆ†æ”¯çš„åŠæ³•æœ‰ä¸¤ç§ï¼šmerge å’Œ rebaseï¼ˆè¡åˆï¼‰<br>å¦‚å·¦å›¾ï¼šåˆ†å‰åˆ°ä¸¤ä¸ªä¸åŒåˆ†æ”¯ï¼Œåˆå„è‡ªæäº¤äº†æ›´æ–°
![](http://images.daojia.com/assets/other/images/gitimg/git141.png) | é™¤äº†mergeä¸¤ä¸ªåˆ†æ”¯æœ€æ–°çš„å…¬å…±ç¥–å…ˆä¸‰æ–¹åˆå¹¶<br>å¦å¤–å°±æ˜¯C3çš„å˜åŒ–è¡¥ä¸åœ¨C4ä¸­é‡æ–°æ‰“ä¸€é->è¡åˆ<br>æœ‰äº†è¡åˆå¯ä»¥æŠŠåˆ†æ”¯ä¸­æäº¤çš„å˜åŒ–ç§»åˆ°å¦ä¸€ä¸ªåˆ†æ”¯é‡æ”¾ä¸€é<br>ï¼ˆåŸç†ï¼šå›åˆ°å…±åŒç¥–å…ˆï¼Œæ ¹æ®å½“å‰åˆ†æ”¯ï¼ˆexÂ·Â·ï¼‰æäº¤çš„å¯¹è±¡C3,ç”Ÿæˆè¡¥ä¸ç„¶åä»¥masteræœ€åæäº¤çš„C4ä¸ºæ–°çš„å‡ºå‘ç‚¹ï¼Œé€ä¸ªåº”ç”¨ä¹‹å‰å‡†å¤‡å¥½çš„è¡¥ä¸æ–‡ä»¶ï¼Œæœ€åä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„åˆå¹¶æäº¤å¯¹è±¡ï¼ˆC3'ï¼‰ï¼Œmasteræˆç›´æ¥ä¸‹æ¸¸ï¼‰
![](http://images.daojia.com/assets/other/images/gitimg/git15.png) | å›åˆ°masterè¿›è¡Œå¿«è¿›åˆå¹¶


åˆ†æ”¯çš„åˆå¹¶ â€” rebase #2 | æ–‡å­—æè¿°
---|---
![](http://images.daojia.com/assets/other/images/gitimg/git17.png)  | ä»ä¸€ä¸ªç‰¹æ€§åˆ†æ”¯é‡Œå†åˆ†å‡ºä¸€ä¸ªç‰¹æ€§åˆ†æ”¯çš„å†å²<br>æœåŠ¡å™¨ç«¯ä»£ç æ·»åŠ åŠŸèƒ½åˆ›å»ºserveræC3C4->ä»C3å¢åŠ clientåˆ†æ”¯å¹¶æC8C9->å›serveræC10
![](http://images.daojia.com/assets/other/images/gitimg/git18.png) | å°†ç‰¹æ€§åˆ†æ”¯ä¸Šçš„å¦ä¸€ä¸ªç‰¹æ€§åˆ†æ”¯è¡åˆåˆ°å…¶ä»–åˆ†æ”¯<br>ä¸€æ¬¡è½¯ä»¶å‘å¸ƒä¸­ï¼Œæˆ‘ä»¬å†³å®šå…ˆæŠŠå®¢æˆ·ç«¯çš„ä¿®æ”¹å¹¶åˆ°ä¸»çº¿ä¸­ï¼Œè€Œæš‚ç¼“å¹¶å…¥æœåŠ¡ç«¯è½¯ä»¶çš„ä¿®æ”¹<br>git rebase --onto master server client<br>å–å‡º client åˆ†æ”¯ï¼Œæ‰¾å‡º client åˆ†æ”¯å’Œ server åˆ†æ”¯çš„å…±åŒç¥–å…ˆä¹‹åçš„å˜åŒ–ï¼Œç„¶åæŠŠå®ƒä»¬åœ¨ master ä¸Šé‡æ¼”ä¸€é
![](http://images.daojia.com/assets/other/images/gitimg/git16.png) | å¿«è¿› master åˆ†æ”¯ï¼Œä½¿ä¹‹åŒ…å« client åˆ†æ”¯çš„å˜åŒ–<br>git checkout master<br>git merge client
![](http://images.daojia.com/assets/other/images/gitimg/git20.png) | åœ¨ master åˆ†æ”¯ä¸Šè¡åˆ server åˆ†æ”¯<br>git rebase [ä¸»åˆ†æ”¯] [ç‰¹æ€§åˆ†æ”¯] å‘½ä»¤ä¼šå…ˆå–å‡ºç‰¹æ€§åˆ†æ”¯ serverï¼Œç„¶ååœ¨ä¸»åˆ†æ”¯ master ä¸Šé‡æ¼”<br>git rebase master server
![](http://images.daojia.com/assets/other/images/gitimg/git201.png) | æœ€ç»ˆçš„æäº¤å†å²<br>å¿«è¿›ä¸»å¹²åˆ†æ”¯ master<br>git checkout master && git merge server 
ç°åœ¨ client å’Œ server åˆ†æ”¯çš„å˜åŒ–éƒ½å·²ç»é›†æˆåˆ°ä¸»å¹²åˆ†æ”¯æ¥äº†ï¼Œå¯ä»¥åˆ æ‰å®ƒä»¬äº†  
git branch -d client  
git branch -d server
<br>

* Gitâ€”rebaseé£é™©

åˆ†æ”¯çš„åˆå¹¶ â€” rebaseçš„é£é™© | æ–‡å­—æè¿°
---|---
æŠŠè¡åˆå½“æˆä¸€ç§åœ¨æ¨é€ä¹‹å‰æ¸…ç†æäº¤å†å²çš„æ‰‹æ®µï¼Œè€Œä¸”ä»…ä»…è¡åˆé‚£äº›å°šæœªå…¬å¼€çš„æäº¤å¯¹è±¡ï¼Œå°±æ²¡é—®é¢˜ã€‚ | å¦‚æœè¡åˆé‚£äº›å·²ç»å…¬å¼€çš„æäº¤å¯¹è±¡ï¼Œå¹¶ä¸”å·²ç»æœ‰äººåŸºäºè¿™äº›æäº¤å¯¹è±¡å¼€å±•äº†åç»­å¼€å‘å·¥ä½œçš„è¯ï¼Œå°±ä¼šå‡ºç°å«äººæ²®ä¸§çš„éº»çƒ¦

<br>
* Gitåˆ†æ”¯â€”è¿œç«¯åŒæ­¥

gitåˆ†æ”¯ â€” å’Œè¿œç«¯åŒæ­¥ | æ–‡å­—æè¿°
---|---
![](http://images.daojia.com/assets/other/images/gitimg/git21.png) | å¦‚å·¦å›¾ç®­å¤´ä¸­å‘½åæ‰€ç¤ºå³å¯ä¸è¿œç«¯åŒæ­¥  

<br>
æ›´å¤šå†…å®¹è¯·æŸ¥çœ‹[ã€Šå‡ å¼ å›¾è®©ä½ å½»åº•å¼„æ‡‚gitå·¥ä½œæµ(ä¸‰)â€”â€”gitæ·±å…¥ã€‹](https://xiaodian-li.github.io/2018/05/28/%E5%87%A0%E5%BC%A0%E5%9B%BE%E8%AE%A9%E4%BD%A0%E5%BD%BB%E5%BA%95%E5%BC%84%E6%87%82git%E5%B7%A5%E4%BD%9C%E6%B5%81-%E4%B8%89-%E2%80%94%E2%80%94git%E6%B7%B1%E5%85%A5/)ğŸ˜Š 