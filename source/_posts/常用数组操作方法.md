---
title: å¸¸ç”¨æ•°ç»„æ“ä½œæ–¹æ³•
date: 2018-03-09
tags: [æ•°ç»„æ–¹æ³•, js]
---
(æœ€è¿‘é™¤äº†é¡¹ç›®åœ¨ç»ƒä¹ è‡ªå·±çš„ç¼–ç¨‹èƒ½åŠ›ï¼Œä»¥ä¸‹æ˜¯ç‰›å®¢ç½‘ç»ƒä¹ çš„çŸ¥è¯†ç‚¹å°æ€»ç»“ğŸ­)  

### 1.æŸ¥æ‰¾æ•°ç»„å…ƒç´ ä½ç½®  

eg: æ‰¾å‡ºå…ƒç´  item åœ¨ç»™å®šæ•°ç»„ arr ä¸­çš„ä½ç½®
<!--more-->
* è§£å†³æ–¹æ¡ˆ  
forå¾ªç¯
```
function indexOf(arr, item) {
    if (Array.prototype.indexOf) {
        return arr.indexOf(item); // å¯è¿”å›æŸä¸ªæŒ‡å®šçš„å­—ç¬¦ä¸²å€¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®
    } else {
        for (var i=0; i<arr.length; i++) {
            if (arr[i] === item) {
                return i;
            }
        }
    }
    return -1;
}
```
### 2.æ•°ç»„æ±‚å’Œ  

eg: è®¡ç®—ç»™å®šæ•°ç»„ arr ä¸­æ‰€æœ‰å…ƒç´ çš„æ€»å’Œ
* è§£å†³æ–¹æ¡ˆ  
ï¼ˆ1ï¼‰forå¾ªç¯  
ï¼ˆ2ï¼‰reduceæ–¹æ³•
```
function sum(arr) {
    // var len = arr.length;
    // if (len === 0) {
        // return 0;
    // } else if (len === 1) {
        // return arr[0]
    // } else {
        // return arr[0] + sum(arr.slice(1)); // sum(arr.slice(1) é€’å½’ã€‚æ¯æ¬¡æŠŠç¬¬ä¸€ä¸ªå–å‡ºæ¥
    // }
    return arr.reduce(function(acc, curr) {
        return acc + curr // ç´¯è®¡çš„ç»“æœ+å½“å‰çš„çŸ¥é“ä¸ºç©º
    })
}

```
### 3-1.ç§»é™¤æ•°ç»„ä¸­çš„å…ƒç´ ï¼ˆè¿”å›æ–°æ•°ç»„ï¼‰  

eg:ç§»é™¤æ•°ç»„ arr ä¸­çš„æ‰€æœ‰å€¼ä¸ item ç›¸ç­‰çš„å…ƒç´ ã€‚ä¸è¦ç›´æ¥ä¿®æ”¹æ•°ç»„ arrï¼Œç»“æœè¿”å›æ–°çš„æ•°ç»„
* è§£å†³æ–¹æ¡ˆ  
ï¼ˆ1ï¼‰forå¾ªç¯  
ï¼ˆ2ï¼‰filterè¿‡æ»¤æ–¹æ³•
```
function remove(arr, item) {
    // var arr2 = [];
    // for (var i=0; i<arr.length; i++) {
        // if (arr[i] != item) { // å¾ªç¯ä¸€éï¼Œçœ‹ç­‰ä¸ç­‰äºitemé¡¹ï¼Œä¸ç­‰äºæ’å…¥æ–°æ•°ç»„
            // arr2.push(arr[i]);
        // }
    // }
     // return arr2; // è¿”å›æ–°æ•°ç»„
    return arr.filter(function(ele){
        return ele != item;
    })
}
```
### 3-2.ç§»é™¤æ•°ç»„ä¸­çš„å…ƒç´ ï¼ˆç›´æ¥åœ¨æ•°ç»„ä¸Šæ“ä½œï¼Œå¹¶å°†ç»“æœè¿”å›ï¼‰  

eg:ç§»é™¤æ•°ç»„ arr ä¸­çš„æ‰€æœ‰å€¼ä¸ item ç›¸ç­‰çš„å…ƒç´ ï¼Œç›´æ¥åœ¨ç»™å®šçš„ arr æ•°ç»„ä¸Šè¿›è¡Œæ“ä½œï¼Œå¹¶å°†ç»“æœè¿”å›
* è§£å†³æ–¹æ¡ˆ  
(1)spliceæ–¹æ³•

```
function removeWithoutCopy(arr, item) {
    for (var i=0; i<arr.length; i++) {
        if (arr[i] === item) {
            arr.splice(i, 1) // ä»ä¸‹æ ‡iå¼€å§‹,åˆ é™¤ä¸€ä¸ªé•¿åº¦ ä»iå¼€å§‹ï¼ŒJé•¿åº¦ï¼Œzæ“ä½œå€¼
            i--; // æ°¸è¿œä»1å¼€å§‹
        }
    }
    return arr
}
```
### 4-1.æœ«å°¾æ·»åŠ å…ƒç´   

eg:åœ¨æ•°ç»„ arr æœ«å°¾æ·»åŠ å…ƒç´  itemã€‚ä¸è¦ç›´æ¥ä¿®æ”¹æ•°ç»„ arrï¼Œç»“æœè¿”å›æ–°çš„æ•°ç»„
* è§£å†³æ–¹æ¡ˆ  
ï¼ˆ1ï¼‰forå¾ªç¯  
ï¼ˆ2ï¼‰slice+push å°¾éƒ¨æ’å…¥æ–¹æ³•
```
function append(arr, item) {
    // var arr1 = [];
    // for (var i=0; i<arr.length; i++) {
        // arr1.push(arr[i])
    // }
    // arr1.push(item)
    // return arr1;
    var arr1 = arr.slice(0); // slice(0) ä»0ä½ç½®å¼€å§‹çŸ¥é“ä»¥å
    arr1.push(item)
    return arr1;
}
```
### 4-2 å¤´éƒ¨æ·»åŠ å…ƒç´   
eg :åœ¨æ•°ç»„ arr å¼€å¤´æ·»åŠ å…ƒç´  itemã€‚ä¸è¦ç›´æ¥ä¿®æ”¹æ•°ç»„ arrï¼Œç»“æœè¿”å›æ–°çš„æ•°ç»„  
* è§£å†³æ–¹æ¡ˆ  
ï¼ˆ1ï¼‰forå¾ªç¯+unshiftå¤´éƒ¨æ’å…¥  
ï¼ˆ2ï¼‰sliceæ–¹æ³•+unshiftå¤´éƒ¨æ’å…¥  
ï¼ˆ3ï¼‰concatè¿æ¥æ–¹æ³•
```
function prepend(arr, item) {
    // var newarr=[];
    // for (var i=0; i<arr.length; i++) {
        // newarr.push(arr[i])
    // }
    // newarr.unshift(item); // unshift ä»å¤´éƒ¨æ’å…¥
    // return newarr;
    
    
    
    
    // var newarr = arr.slice(0); // ä»0å¼€å§‹åˆ°æœ€åå¤åˆ¶åˆ°æ–°çš„æ•°ç»„
    // newarr.unshift(item);
    // return newarr;
    
    
    return [item].concat(arr);
}
```
### 4-3 ä»»æ„ä½ç½®æ·»åŠ å…ƒç´   

eg: 
åœ¨æ•°ç»„ arr çš„ index å¤„æ·»åŠ å…ƒç´  itemã€‚ä¸è¦ç›´æ¥ä¿®æ”¹æ•°ç»„ arrï¼Œç»“æœè¿”å›æ–°çš„æ•°ç»„
* è§£å†³æ–¹æ¡ˆ  
ï¼ˆ1ï¼‰for + splice  
ï¼ˆ2ï¼‰sliceæ‹·è´ + splice æ·»åŠ æ–¹æ³•
```
function insert(arr, item, index) {
    // var newarr=[];
    // for (var i=0; i<arr.length; i++) {
         // newarr.push(arr[i])
    // }
    // newarr.splice(index,0,item)
    // return newarr;
    
    
    var newarr = arr.slice(0);
    newarr.splice(index,0,item);  // ä»indexå¼€å§‹åˆ é™¤0ï¼Œåœ¨indexåæ·»åŠ item
    return newarr;
}

```

### 5-1.åˆ é™¤æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´   

eg: åˆ é™¤æ•°ç»„ arr æœ€åä¸€ä¸ªå…ƒç´ ã€‚ä¸è¦ç›´æ¥ä¿®æ”¹æ•°ç»„ arrï¼Œç»“æœè¿”å›æ–°çš„æ•°ç»„  
* è§£å†³æ–¹æ¡ˆ  
ï¼ˆ1ï¼‰sliceæ–¹æ³•  
ï¼ˆ2ï¼‰apply+popåˆ é™¤æœ€åä¸€ä¸ªæ•°ç»„æ–¹æ³•
```
function truncate(arr) {
     var newarr = [];
     [].push.apply(newarr, arr);
     newarr.pop(); // popåˆ é™¤æœ€åä¸€ä¸ªæ•°ç»„å…ƒç´ 
     return newarr;
    // return arr.slice(0, -1); // sliceä»ä½ç½®0å¼€å§‹åˆ°åä¸€ä¸ª
}
```
### 5-2.åˆ é™¤æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´     

eg: åˆ é™¤æ•°ç»„ arr ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ä¸è¦ç›´æ¥ä¿®æ”¹æ•°ç»„ arrï¼Œç»“æœè¿”å›æ–°çš„æ•°ç»„ 
* è§£å†³æ–¹æ¡ˆ  
ï¼ˆ1ï¼‰sliceæ–¹æ³•  
ï¼ˆ2ï¼‰filterè¿‡æ»¤æ–¹æ³•

```
function curtail(arr) {
    // var newarr = arr.slice(1); // æ‹·è´ ä»ä¸‹æ ‡ä¸º1å¼€å§‹åˆ°æœ€åå…¨éƒ¨æ‹·è´
    // return newarr;
    
    return arr.filter(function(v, i){
        return i !== 0;
        
    })
}
```
### 6. æ•°ç»„åˆå¹¶ 
 
eg: åˆå¹¶æ•°ç»„ arr1 å’Œæ•°ç»„ arr2ã€‚ä¸è¦ç›´æ¥ä¿®æ”¹æ•°ç»„ arrï¼Œç»“æœè¿”å›æ–°çš„æ•°ç»„  
* è§£å†³æ–¹æ¡ˆ  
ï¼ˆ1ï¼‰sliceæ‹·è´+concatè¿æ¥  
ï¼ˆ2ï¼‰sliceæ‹·è´+pushæ’å…¥

```
function concat(arr1, arr2) {
    // return newarr = arr1.slice(0).concat(arr2);
    
    // return newarr = arr1.concat(arr2) 
    
    var newarr = arr1.slice(0);
    [].push.apply(newarr, arr2);
    return newarr;
}
```
### 7.è®¡æ•°  

eg: ç»Ÿè®¡æ•°ç»„ arr ä¸­å€¼ç­‰äº item çš„å…ƒç´ å‡ºç°çš„æ¬¡æ•°  
* è§£å†³æ–¹æ¡ˆ  
ï¼ˆ1ï¼‰for  
ï¼ˆ2ï¼‰forEachæšä¸¾å…ƒç´ 

```
function count(arr, item) {
    var j = 0;
    // for (var i=0; i<arr.length; i++) {
        // if (arr[i] === item) {
            // j ++
        // }
    // }
    // return j;
    arr.forEach (function (e) {
        e == item? j++: 0
    })
    return j;
}
```
### 8.æŸ¥æ‰¾é‡å¤å…ƒç´   

eg :æ‰¾å‡ºæ•°ç»„ arr ä¸­é‡å¤å‡ºç°è¿‡çš„å…ƒç´   
 * è§£å†³æ–¹æ¡ˆ  
ï¼ˆ1ï¼‰for å¾ªç¯  
ï¼ˆ2ï¼‰indexOf å…ƒç´ æ‰€åœ¨ä½ç½®

```
function duplicates(arr) {
    // var a =[], b = []; // a--ç»“æœæ•°ç»„ï¼Œb--arrä¸­æ•°ç»„
    // for (var i=0; i<arr.length; i++) {
        // if (!b[arr[i]]) { // bé‡Œæ²¡æœ‰a[i]çš„å€¼
            // b[arr[i]] = 1;
            // continue;
        // }
        // b[arr[i]] ++ ; 
    // }
    
    // for(var i=0; i<b.length; i++) {
        // if (b[i] > 1) {
            // a.push(i);
        // }
    // }
    // return a;
    var result = [];
    arr.forEach(function(elem) {
        if (arr.indexOf(elem) != arr.lastIndexOf(elem) && result.indexOf(elem) == -1) {
            result.push(elem);
        }
    });
    return result;
}
```
### 9. æ±‚äºŒæ¬¡æ–¹ 

eg:
ä¸ºæ•°ç»„ arr ä¸­çš„æ¯ä¸ªå…ƒç´ æ±‚äºŒæ¬¡æ–¹ã€‚ä¸è¦ç›´æ¥ä¿®æ”¹æ•°ç»„ arrï¼Œç»“æœè¿”å›æ–°çš„æ•°ç»„
* è§£å†³æ–¹æ¡ˆ  
ï¼ˆ1ï¼‰for   å¾ªç¯
ï¼ˆ2ï¼‰forEach  å¾ªç¯å…ƒç´ 
ï¼ˆ3ï¼‰fliter  è¿‡æ»¤
ï¼ˆ4ï¼‰map æ˜ å°„
```
function square(arr) {
    // var newarr = [];
    // for (var i=0; i<arr.length; i++) {
        // newarr.push(arr[i]*arr[i]);
    // }
    // return newarr;
    
    
    
    // arr.forEach(function(elem){
        // newarr.push(elem*elem);
    // }) 
    // return newarr;
    
    
    
    return arr.map(function(item, index, arry){
        return item * item;
    })
}
```
### 10. æŸ¥æ‰¾å…ƒç´ ä½ç½®  

eg: åœ¨æ•°ç»„ arr ä¸­ï¼ŒæŸ¥æ‰¾å€¼ä¸ item ç›¸ç­‰çš„å…ƒç´ å‡ºç°çš„æ‰€æœ‰ä½ç½®
* è§£å†³æ–¹æ¡ˆ   
ï¼ˆ1ï¼‰for  
ï¼ˆ2ï¼‰filter  
ï¼ˆ3ï¼‰indexOf
```
function findAllOccurrences(arr, target) {
    var newarr = [];
    arr.filter(function(item, index){
        // if (item !== target) {
            // newarr.push(index);
        // }
        item !== target || newarr.push(index);
    })
    return newarr;
  
}
```

æ³¨æ„ï¼šæ•°ç»„ç›¸å…³å­¦ä¹ å»ºè®®åˆ°MDNå­¦ä¹   
https://developer.mozilla.org  
å…³äºç”¨åˆ°çš„æ–¹æ³•åœ¨ä¸‹é¢ä»£ç ä¸­éƒ½ä¼šæœ‰æ³¨é‡Š









